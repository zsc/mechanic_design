# 第2章：CAD软件基础操作

本章将介绍CAD（计算机辅助设计）软件的基础操作，重点关注参数化建模、装配体设计和工程图纸制作。作为程序员和AI科学家，你们具备算法思维和系统设计能力，这将帮助你们快速掌握CAD的参数化设计理念。本章以实用为导向，强调工作流程和最佳实践，让你能够将设计想法快速转化为可制造的3D模型。

## 2.1 CAD软件选择

选择合适的CAD软件是机械设计的第一步。不同软件有各自的优势和适用场景，理解它们的特点能帮助你做出明智的选择。

### Fusion 360：云端协作的现代选择

Fusion 360是Autodesk推出的云端CAD/CAM/CAE一体化平台，特别适合个人创客和小团队。

**优势：**
- 免费个人版（年收入低于10万美元）
- 云端存储，多设备同步
- 集成CAM功能，可直接生成G代码
- 内置仿真和渲染功能
- 版本控制和协作功能完善
- 学习曲线相对平缓

**限制：**
- 需要稳定网络连接
- 大型装配体性能受限（>500个零件）
- 个人版功能有限制（如只能激活10个文档）

**适用场景：** 3D打印设计、小型机械装置、原型设计、创客项目

### SolidWorks：工业标准的专业选择

SolidWorks是达索系统的旗舰产品，在工业界拥有最广泛的用户基础。

**优势：**
- 功能全面，插件生态丰富
- 大型装配体性能优秀
- 钣金、焊接、模具等专业模块
- 仿真分析功能强大（Simulation插件）
- 工程图纸功能最完善
- 行业认可度高

**限制：**
- 价格昂贵（年费约4000-8000美元）
- 学习曲线陡峭
- 仅支持Windows系统
- 文件体积较大

**适用场景：** 专业机械设计、大型装配体、工业产品开发、需要与供应商协作的项目

### FreeCAD：开源自由的理想选择

FreeCAD是完全开源的参数化3D建模软件，适合预算有限或需要定制的场景。

**优势：**
- 完全免费开源（LGPL协议）
- 跨平台支持（Windows/Mac/Linux）
- Python脚本支持，可编程扩展
- 参数化建模功能完整
- 社区活跃，更新频繁

**限制：**
- 界面不够友好，操作逻辑独特
- 稳定性有待提升
- 装配体功能较弱
- 学习资源相对较少

**适用场景：** 开源项目、教育用途、简单零件设计、需要批量自动化的场景

### 软件选择决策树

```
是否需要商业级支持？
├─ 是 → 预算充足？
│      ├─ 是 → SolidWorks
│      └─ 否 → Fusion 360（商业版）
└─ 否 → 需要云端协作？
       ├─ 是 → Fusion 360（个人版）
       └─ 否 → 需要Python编程？
              ├─ 是 → FreeCAD
              └─ 否 → Fusion 360（个人版）
```

**经验法则：**
1. **新手入门：** 从Fusion 360开始，界面友好，学习资源丰富
2. **专业发展：** 掌握SolidWorks，这是工业界的通用语言
3. **特殊需求：** FreeCAD适合需要深度定制或批量处理的场景
4. **混合使用：** 不同项目可以使用不同软件，文件可通过STEP格式互换

## 2.2 基本建模流程

CAD建模遵循"草图→特征→零件→装配"的基本流程。掌握这个流程能让你系统地将设计意图转化为3D模型。

### 草图设计基础

草图是所有3D模型的基础，它定义了零件的二维轮廓。

**草图平面选择：**
- XY平面：俯视图，适合平面零件
- YZ平面：侧视图，适合轴对称零件
- XZ平面：正视图，适合前后对称零件
- 基于特征的平面：在已有面上创建新特征

**约束类型：**
1. **几何约束：** 水平、垂直、平行、垂直、相切、同心、重合
2. **尺寸约束：** 长度、角度、半径、直径
3. **完全约束原则：** 草图应该完全定义（fully defined），避免欠约束或过约束

**草图绘制技巧：**
```
草图复杂度评估：
简单（<10个实体） → 直接绘制
中等（10-30个实体） → 分层构建，使用构造线
复杂（>30个实体） → 考虑分解为多个特征
```

**经验法则：**
- 从原点开始绘制，保持对称性
- 使用构造线（虚线）辅助定位
- 优先使用几何约束，再添加尺寸约束
- 圆角和倒角留到3D特征中添加

### 拉伸、旋转、扫描操作

这三种是最基本的3D特征创建方法，覆盖了90%的建模需求。

**拉伸（Extrude）：**
将2D草图沿垂直方向延伸成3D实体。

参数设置：
- 方向：单向、双向、对称
- 深度：固定值、到某个面、贯穿所有
- 拔模角：注塑件通常需要1-3°

应用场景：方块、板材、支架、外壳

**旋转（Revolve）：**
将2D草图绕轴线旋转生成3D实体。

关键要素：
- 旋转轴：必须在草图平面内
- 旋转角度：360°（完整）或指定角度
- 草图要求：不能跨越旋转轴

应用场景：轴类零件、轮毂、瓶子、手柄

**扫描（Sweep）：**
将2D轮廓沿着路径扫描生成3D实体。

类型：
- 简单扫描：轮廓沿路径移动
- 螺旋扫描：生成弹簧、螺纹
- 放样（Loft）：多个轮廓间过渡

应用场景：管道、弹簧、空气动力学外形

### 特征建模与参数化设计

特征建模是在基础实体上添加或去除材料的过程。

**常用特征：**
1. **圆角（Fillet）：** 
   - 内圆角：减少应力集中，标准值R1-R5
   - 外圆角：改善手感，便于脱模
   
2. **倒角（Chamfer）：**
   - 45°倒角：去除锐边，标准值0.5-2mm
   - 不等边倒角：用于装配导向

3. **孔（Hole）：**
   - 简单孔：通孔、盲孔、锥孔
   - 螺纹孔：指定标准（M3、M4等）
   - 沉头孔：配合螺钉使用

4. **加强筋（Rib）：**
   - 厚度：主壁厚的50-60%
   - 拔模角：1-2°
   - 高度：不超过壁厚的3倍

5. **拔模（Draft）：**
   - 注塑件：1-3°
   - 铸造件：3-5°
   - 内壁拔模角度略大于外壁

**参数化设计理念：**

参数化设计通过变量和公式驱动模型，便于修改和系列化设计。

```
示例：齿轮参数化
模数 m = 2
齿数 z = 20
分度圆直径 d = m * z = 40
齿顶圆直径 da = d + 2*m = 44
齿根圆直径 df = d - 2.5*m = 35
```

**设计表（Design Table）应用：**
创建一个零件的多个配置，如螺钉的不同长度规格：

| 配置名 | 直径(mm) | 长度(mm) | 头部高度(mm) |
|-------|---------|---------|------------|
| M3x10 | 3       | 10      | 2          |
| M3x15 | 3       | 15      | 2          |
| M4x10 | 4       | 10      | 2.5        |
| M4x20 | 4       | 20      | 2.5        |

### 修改与编辑技巧

高效的编辑能力是CAD熟练度的体现。

**特征树管理：**
- 命名规范：使用描述性名称（"底座"而非"拉伸1"）
- 顺序优化：主要特征在前，细节特征在后
- 抑制/解除抑制：临时隐藏特征便于编辑

**常见编辑操作：**
1. **阵列（Pattern）：**
   - 线性阵列：螺栓孔、散热片
   - 圆形阵列：轮辐、叶片
   - 草图驱动阵列：不规则位置

2. **镜像（Mirror）：**
   - 保持对称性
   - 减少建模工作量
   - 注意镜像后的螺纹方向

3. **缩放（Scale）：**
   - 等比例缩放：制作不同尺寸版本
   - 非等比例：调整长宽高比例

**修改策略：**
```
修改影响评估：
草图尺寸修改 → 影响单个特征
草图轮廓修改 → 影响所有依赖特征
基准面修改 → 影响整个零件结构
参数修改 → 通过公式传播到相关尺寸
```

**版本控制建议：**
- 重大修改前保存副本
- 使用配置管理设计变体
- 记录修改原因和日期

## 2.3 装配体设计与约束

装配体设计是将多个零件组合成功能完整的机械系统。理解约束关系和自由度分析，是确保装配体正确运动和配合的关键。

### 装配体概念与工作流

装配体不仅是零件的简单堆叠，而是通过约束关系定义零件间的相对位置和运动关系。

**装配体层级结构：**
```
总装配体
├── 子装配体1（如：传动系统）
│   ├── 零件1（齿轮）
│   ├── 零件2（轴）
│   └── 标准件（轴承）
├── 子装配体2（如：支撑结构）
│   ├── 零件3（底座）
│   └── 零件4（支架）
└── 直接零件（如：外壳）
```

**装配工作流程：**

1. **自顶向下设计（Top-Down）：**
   - 先创建装配体骨架
   - 在装配环境中设计零件
   - 适合全新设计项目
   - 保证零件间完美配合

2. **自底向上设计（Bottom-Up）：**
   - 先设计所有零件
   - 然后组装成装配体
   - 适合使用标准件的项目
   - 便于零件重用

3. **混合设计（推荐）：**
   ```
   关键配合面 → 自顶向下
   标准件/通用件 → 自底向上
   ```

**装配体文件管理：**
- 使用相对路径引用零件
- 建立清晰的文件夹结构
- 零件命名包含版本号
- Pack and Go功能打包所有相关文件

### 约束类型与应用

约束定义了零件间的几何关系，正确的约束是装配体稳定性的基础。

**基本约束类型：**

1. **配合（Mate/Coincident）：**
   - 面配合：两个面贴合
   - 点配合：点重合
   - 线配合：轴线重合
   - 应用：固定连接、贴合面

2. **对齐（Align）：**
   - 面对齐：平行且共面
   - 轴对齐：同轴
   - 应用：轴承安装、孔轴配合

3. **角度（Angle）：**
   - 固定角度：如90°直角
   - 可变角度：定义运动范围
   - 应用：铰链、折叠机构

4. **距离（Distance）：**
   - 固定距离：保持间隙
   - 限制距离：定义运动范围
   - 应用：滑动导轨、间隙配合

5. **相切（Tangent）：**
   - 圆柱相切：齿轮啮合
   - 面与圆柱相切：凸轮机构
   - 应用：传动系统、凸轮

**高级约束类型：**

1. **对称（Symmetric）：**
   - 关于平面对称
   - 减少约束数量
   - 保证对称性

2. **齿轮（Gear）：**
   - 定义传动比
   - 自动计算转速关系
   - 支持齿轮、齿条、蜗轮蜗杆

3. **凸轮（Cam）：**
   - 定义凸轮从动件关系
   - 支持切向和法向接触

4. **路径（Path）：**
   - 零件沿路径运动
   - 用于滑块、导轨系统

**约束策略：**

```
优先级顺序：
1. 基准面/轴 → 建立坐标系
2. 主要配合面 → 确定位置
3. 次要约束 → 限制自由度
4. 运动约束 → 定义运动关系
```

**约束冲突解决：**
- 检查约束顺序
- 使用柔性子装配
- 删除冗余约束
- 使用参考几何体

### 自由度分析

理解和控制自由度是确保装配体正确运动的关键。

**六个自由度：**
- 平移自由度：X、Y、Z方向移动
- 旋转自由度：绕X、Y、Z轴旋转

**自由度计算：**
```
剩余自由度 = 6 - 约束限制的自由度数

完全约束：0个自由度（固定）
欠约束：>0个自由度（可运动）
过约束：约束冲突（需要修正）
```

**典型机构自由度：**

| 机构类型 | 自由度 | 约束配置 |
|---------|--------|---------|
| 固定连接 | 0 | 面配合+边对齐 |
| 旋转轴 | 1 | 同轴+轴向定位 |
| 滑块 | 1 | 导轨面配合×2 |
| 球铰 | 3 | 球心重合 |
| 平面机构 | 3 | Z向约束+旋转约束×2 |

**自由度分析工具：**
- 拖动测试：手动检查运动
- 运动仿真：验证运动轨迹
- 干涉检查：检测碰撞
- 自由度报告：CAD软件分析功能

**运动机构设计原则：**
1. 每个运动副保留必要的自由度
2. 避免过约束导致的装配应力
3. 考虑制造公差的影响
4. 预留适当的运动间隙

### 装配体爆炸图

爆炸图是展示装配关系和安装顺序的重要工具。

**爆炸图创建步骤：**

1. **确定爆炸方向：**
   - 主爆炸轴：通常沿装配主轴
   - 径向爆炸：圆形排列的零件
   - 分层爆炸：复杂装配体

2. **设置爆炸距离：**
   ```
   经验公式：
   爆炸距离 = 零件最大尺寸 × 0.5~1.5
   
   调整原则：
   - 相邻零件不重叠
   - 保持视觉平衡
   - 关键零件突出显示
   ```

3. **添加爆炸线：**
   - 直线：标准爆炸路径
   - 折线：避免遮挡
   - 曲线：特殊装配路径

**爆炸图优化技巧：**

1. **分组爆炸：**
   - 子装配体作为整体
   - 紧固件组合爆炸
   - 保持逻辑关系

2. **多步骤爆炸：**
   - 创建装配动画
   - 定义装配顺序
   - 生成装配说明书

3. **智能编号：**
   ```
   编号规则：
   1-99：主要结构件
   100-199：运动部件
   200-299：标准件
   300-399：紧固件
   ```

**爆炸图应用：**
- 装配说明书
- 维修手册
- 零件清单（BOM）
- 营销展示

### 装配体性能优化

大型装配体的性能优化对于流畅的设计体验至关重要。

**轻量化技术：**

1. **简化表示：**
   - 抑制非关键特征（小圆角、螺纹）
   - 使用简化配置
   - 外购件用简化模型

2. **子装配体管理：**
   - 柔性/刚性切换
   - 使用轻量化模式
   - SpeedPak（SolidWorks）技术

3. **显示优化：**
   ```
   详细程度设置：
   工作零件 → 高质量显示
   相邻零件 → 中等质量
   背景零件 → 线框/边界框
   ```

**大装配体策略：**
- 分级装配（>100个零件）
- 使用骨架草图
- 配置管理
- 定期保存和备份

### 标准件库管理

高效利用标准件库能大幅提升设计效率。

**常用标准件库：**
1. **ISO标准：** 螺栓、螺母、垫圈、轴承
2. **DIN标准：** 欧洲工业标准
3. **GB标准：** 中国国家标准
4. **厂商库：** Misumi、McMaster-Carr

**标准件使用原则：**
- 优先选用标准件
- 建立企业标准件库
- 参数化驱动规格
- 维护供应商信息

**智能装配技术：**
- 自动配合识别
- 批量替换
- 配置驱动
- 阵列复制

## 2.4 工程图纸制作

工程图纸是设计意图与制造之间的桥梁。即使在3D模型时代，2D工程图依然是制造和检验的权威文档。掌握规范的图纸制作，是将设计转化为产品的关键。

### 视图投影与布局

正确的视图选择和布局能清晰传达零件的几何信息。

**第一角投影与第三角投影：**

```
第一角投影（欧洲/中国标准）：
物体在观察者和投影面之间
俯视图在主视图下方
左视图在主视图右侧

第三角投影（美国标准）：
投影面在观察者和物体之间
俯视图在主视图上方
右视图在主视图右侧
```

**基本视图配置：**

1. **三视图系统：**
   - 主视图：最能反映特征的方向
   - 俯视图：显示长度和宽度
   - 侧视图：显示高度和深度

2. **视图选择原则：**
   ```
   视图数量决策：
   简单回转体 → 1-2个视图
   一般零件 → 3个视图
   复杂零件 → 3个视图 + 局部视图
   装配体 → 主视图 + 必要剖视
   ```

3. **特殊视图类型：**
   - **剖视图：** 显示内部结构
   - **局部视图：** 放大关键特征
   - **断面图：** 特定位置的截面
   - **向视图：** 非标准方向投影

**视图布局最佳实践：**

1. **间距设置：**
   ```
   视图间距 = 最长尺寸标注 + 20mm
   边框距离 = 15-25mm
   标题栏位置 = 右下角
   ```

2. **比例选择：**
   | 零件类型 | 推荐比例 |
   |---------|---------|
   | 小型精密件 | 2:1, 5:1 |
   | 一般零件 | 1:1 |
   | 大型零件 | 1:2, 1:5 |
   | 建筑/设备 | 1:10, 1:50 |

3. **剖视图规范：**
   - 剖切线用粗点划线
   - 箭头指向投影方向
   - 剖面线45°，间距2-3mm
   - 相邻零件剖面线方向相反

### 尺寸标注规范

尺寸标注不仅要完整，更要清晰、合理，便于制造和检验。

**尺寸标注三要素：**
1. **尺寸线：** 细实线，平行于被标注要素
2. **尺寸界线：** 细实线，垂直于尺寸线
3. **尺寸数字：** 字高3-5mm，位于尺寸线上方或中断处

**标注优先级：**
```
功能尺寸 > 装配尺寸 > 加工尺寸 > 参考尺寸
```

**尺寸布置原则：**

1. **尺寸链分析：**
   - 避免封闭尺寸链
   - 重要尺寸直接标注
   - 累积公差最小化

2. **分类标注：**
   ```
   外形尺寸 → 最外层
   定位尺寸 → 中间层
   细节尺寸 → 最内层
   ```

3. **标注位置：**
   - 尽量标注在视图外部
   - 相关尺寸集中标注
   - 避免尺寸线交叉
   - 小尺寸在内，大尺寸在外

**特殊要素标注：**

1. **孔的标注：**
   ```
   通孔：φ10 THRU 或 φ10
   盲孔：φ10×15 或 φ10↧15
   沉头孔：φ10×82° 或 ⌴φ10×82°
   螺纹孔：M8×1.25-6H
   ```

2. **倒角与圆角：**
   - 45°倒角：C2 或 2×45°
   - 非45°倒角：2×30°
   - 圆角：R5
   - 全周圆角：R5 TYP

3. **阵列特征：**
   ```
   线性阵列：4×φ8 EQ SP（等间距）
   圆形阵列：6×φ8 EQ SP ON φ100 B.C.
   不规则阵列：标注坐标表
   ```

### 公差与技术要求

公差定义了制造的精度要求，直接影响成本和功能。

**尺寸公差标注：**

1. **公差表示方法：**
   ```
   极限偏差：50±0.1 或 50⁺⁰·¹₋₀.₂
   公差代号：50H7 或 50f6
   配合标注：φ20H7/g6
   ```

2. **公差等级选择：**
   | IT等级 | 应用场景 | 典型公差(φ50mm) |
   |--------|---------|-----------------|
   | IT5-6 | 精密配合 | ±0.016mm |
   | IT7-8 | 一般配合 | ±0.025mm |
   | IT9-11 | 非配合尺寸 | ±0.062mm |
   | IT12-14 | 粗糙尺寸 | ±0.25mm |

3. **基本偏差选择：**
   - 孔：H（基孔制）
   - 轴：h（基轴制）
   - 间隙配合：H/f, H/g
   - 过渡配合：H/k, H/m
   - 过盈配合：H/p, H/s

**形位公差：**

1. **形状公差：**
   - 直线度：⟍ 0.02
   - 平面度：⏥ 0.03
   - 圆度：○ 0.01
   - 圆柱度：⌭ 0.02

2. **位置公差：**
   - 平行度：∥ 0.05 A
   - 垂直度：⊥ 0.03 B
   - 同轴度：◎ 0.02 C
   - 位置度：⊕ φ0.1 M

3. **跳动公差：**
   - 圆跳动：↗ 0.05 A
   - 全跳动：↗↗ 0.08 A

**表面粗糙度：**

```
常用粗糙度值（Ra）：
Ra0.8：精密配合面
Ra1.6：一般配合面
Ra3.2：非配合加工面
Ra6.3：粗加工面
Ra12.5：不加工面
```

**技术要求编写：**

1. **通用要求：**
   - 未注公差按GB/T 1804-m
   - 未注圆角R1-2
   - 锐边倒钝
   - 去毛刺

2. **材料要求：**
   - 材料：6061-T6铝合金
   - 硬度：HRC 45-50
   - 表面处理：阳极氧化，黑色

3. **特殊要求：**
   - 关键尺寸100%检验
   - 动平衡等级G6.3
   - 密封面不允许划伤

### 图纸模板管理

标准化的图纸模板能提高效率并确保一致性。

**图框设置：**

1. **标准图幅：**
   ```
   A4: 210×297mm（小型零件）
   A3: 297×420mm（一般零件）
   A2: 420×594mm（大型零件）
   A1: 594×841mm（装配图）
   A0: 841×1189mm（总装图）
   ```

2. **标题栏内容：**
   - 公司信息：名称、Logo
   - 零件信息：名称、图号、材料
   - 制图信息：比例、日期、制图人
   - 版本信息：版本号、修改记录

3. **明细栏（装配图）：**
   | 序号 | 名称 | 图号 | 数量 | 材料 | 备注 |
   |-----|------|-----|------|------|-----|
   | 1 | 底座 | XXX-001 | 1 | 铝合金 | |
   | 2 | 轴承 | 6204 | 2 | | 外购 |

**模板定制建议：**

1. **企业模板体系：**
   ```
   零件图模板
   装配图模板
   钣金图模板
   焊接图模板
   检验图模板
   ```

2. **自动化功能：**
   - 自动填充属性
   - 零件信息关联
   - 版本自动更新
   - 批量出图

3. **图层管理：**
   - 轮廓线：粗实线，黑色
   - 尺寸线：细实线，红色
   - 中心线：细点划线，蓝色
   - 剖面线：细实线，绿色

**出图检查清单：**
- [ ] 视图完整性
- [ ] 尺寸完整性
- [ ] 公差合理性
- [ ] 技术要求完整
- [ ] 标题栏信息正确
- [ ] 图纸比例正确
- [ ] 更新记录完整

### 2.5 常见快捷键与技巧
- 通用快捷键总结
- 建模效率提升技巧
- 常用插件推荐

### 2.6 案例研究：从手绘草图到参数化模型
- 需求分析与草图绘制
- 参数化建模实施
- 设计迭代与优化

### 2.7 高级话题：拓扑优化与生成式设计
- 拓扑优化原理
- 生成式设计工具
- 实际应用案例

### 2.8 本章小结

### 2.9 练习题

### 2.10 常见陷阱与错误

### 2.11 最佳实践检查清单